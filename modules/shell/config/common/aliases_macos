#!/usr/bin/env bash

# =============================================================================
# macOS Specific Aliases
# =============================================================================
# This file contains aliases that are specific to macOS

# Only load if we're on macOS
[[ "$OSTYPE" != "darwin"* ]] && return

# =============================================================================
# SYSTEM OPERATIONS
# =============================================================================

# File operations
alias o='open'
alias oo='open .'

# Screen lock
alias afk='/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend'

# =============================================================================
# FINDER OPERATIONS
# =============================================================================

# Show/hide hidden files
alias show='defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder'
alias hide='defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder'
alias showdotfiles='show'
alias hidedotfiles='hide'

# Show/hide desktop icons
alias showdesktop='defaults write com.apple.finder CreateDesktop -bool true && killall Finder'
alias hidedesktop='defaults write com.apple.finder CreateDesktop -bool false && killall Finder'
alias show-desktop-icons='showdesktop'
alias hide-desktop-icons='hidedesktop'

# =============================================================================
# SYSTEM MAINTENANCE
# =============================================================================

# Trash operations
alias empty-trash='sudo rm -rfv /Volumes/*/.Trashes; sudo rm -rfv ~/.Trash; sudo rm -rfv /private/var/log/asl/*.asl; sqlite3 ~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV* "delete from LSQuarantineEvent"'
alias emptytrash='empty-trash'

# Cleanup operations
alias cleanup-dsstore='find . -name "*.DS_Store" -type f -ls -delete'
alias cleanup_dsstore='cleanup-dsstore'

# =============================================================================
# NETWORK & DNS
# =============================================================================

# Network information
alias local-ip='ipconfig getifaddr en1'
alias localip='ipconfig getifaddr en0'

# DNS operations
alias flushdns='dscacheutil -flushcache'
alias clear-dns-cache='sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder'

# =============================================================================
# AUDIO CONTROLS
# =============================================================================

# Volume controls
alias stfu='osascript -e "set volume output muted true"'
alias pumpitup='osascript -e "set volume output volume 100"'
alias mute='stfu'
alias unmute='osascript -e "set volume output muted false"'

# =============================================================================
# CLIPBOARD OPERATIONS
# =============================================================================

# SSH key to clipboard
alias pubkey='more ~/.ssh/id_rsa.pub | pbcopy | printf "=> Public key copied to pasteboard.\n"'

# Trim newlines and copy
alias trimcopy='tr -d "\n" | pbcopy'

# Copy current directory path
alias pwdcopy='pwd | pbcopy'

# =============================================================================
# APPLICATION MANAGEMENT
# =============================================================================

# Chrome memory management
alias chromekill='ps ux | grep "[C]hrome Helper --type=renderer" | grep -v extension-process | tr -s " " | cut -d " " -f2 | xargs kill'

# Spotlight control
alias spotoff='sudo mdutil -a -i off'
alias spoton='sudo mdutil -a -i on'

# =============================================================================
# SYSTEM UPDATES
# =============================================================================

# Comprehensive system update
alias u='sudo softwareupdate --install --all && brew update && brew upgrade && brew cleanup && npm install -g npm && npm update -g'

# Homebrew-focused update
alias update='brew update && brew upgrade && npm install npm -g && npm update -g'
alias brew_update='brew -v update; brew upgrade --force-bottle --cleanup; brew cleanup; brew doctor'

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Sublime Text (if installed)
if [[ -d "/Applications/Sublime Text.app" ]]; then
    alias subl='/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl'
    alias sublime='subl'
fi

# Xcode tools
alias xcode='open -a Xcode'

# =============================================================================
# SYSTEM UTILITIES
# =============================================================================

# PlistBuddy
alias plistbuddy='/usr/libexec/PlistBuddy'

# Airport CLI
alias airport='/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport'

# PDF operations
alias mergepdf='/System/Library/Automator/Combine\ PDF\ Pages.action/Contents/Resources/join.py'

# =============================================================================
# FILE SYSTEM
# =============================================================================

# Enhanced ls for macOS
alias ls='ls -G'

# File size (macOS stat format)
alias size='stat -f "%z bytes"'

# =============================================================================
# QUICK ACCESS
# =============================================================================

# Quick access to common directories
alias desktop='cd ~/Desktop'
alias downloads='cd ~/Downloads'
alias documents='cd ~/Documents'

# =============================================================================
# TERMINAL ENHANCEMENTS
# =============================================================================

# Terminal output to desktop file
alias DT='tee ~/Desktop/terminalOut.txt'

# Export current directory to PATH
alias exportpwd='echo "export PATH=\$PATH:$(pwd)" >> ~/.bash_exports; source ~/.bash_exports'